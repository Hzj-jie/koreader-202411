local gettext = require("gettext")

local locale_lang_map = {
  -- from https://iso639-3.sil.org/sites/iso639-3/files/downloads/iso-639-3.tab
  -- first chunk of names are languages present in iso-639-1
  -- @translators Most of these language name have already been translated at <https://hosted.weblate.org/projects/iso-codes/iso-639-2/>. Click "Automatic suggestions" to see them below the textfield.
  aar = gettext("Afar"),
  afr = gettext("Afrikaans"),
  amh = gettext("Amharic"),
  ara = gettext("Arabic"), -- macrolanguage
  asm = gettext("Assamese"),
  aze = gettext("Azerbaijani"), -- macrolanguage
  bak = gettext("Bashkir"),
  bel = gettext("Belarusian"),
  ben = gettext("Bengali"),
  bod = gettext("Tibetan"),
  bos = gettext("Bosnian"),
  bre = gettext("Breton"),
  bul = gettext("Bulgarian"),
  cat = gettext("Catalan"),
  ces = gettext("Czech"),
  chu = gettext("Church Slavic"),
  cor = gettext("Cornish"),
  cos = gettext("Corsican"),
  cym = gettext("Welsh"),
  dan = gettext("Danish"),
  deu = gettext("German"),
  div = gettext("Dhivehi"),
  dzo = gettext("Dzongkha"),
  ell = gettext("Modern Greek"), -- (1453-)
  eng = gettext("English"),
  epo = gettext("Esperanto"), -- constructed language
  est = gettext("Estonian"), -- macrolanguage
  eus = gettext("Basque"),
  fao = gettext("Faroese"),
  fas = gettext("Persian"), -- macrolanguage
  fil = gettext("Filipino"),
  fin = gettext("Finnish"),
  fra = gettext("French"),
  fry = gettext("Western Frisian"),
  gla = gettext("Scottish Gaelic"),
  gle = gettext("Irish"),
  glg = gettext("Galician"),
  glv = gettext("Manx"),
  guj = gettext("Gujarati"),
  hat = gettext("Haitian"),
  hau = gettext("Hausa"),
  hbs = gettext("Serbo-Croatian"), -- macrolanguage
  heb = gettext("Hebrew"),
  hin = gettext("Hindi"),
  hrv = gettext("Croatian"),
  hun = gettext("Hungarian"),
  hye = gettext("Armenian"),
  ido = gettext("Ido"), -- constructed language
  ina = gettext("Interlingua"), -- (International Auxiliary Language Association) constructed language
  ind = gettext("Indonesian"),
  isl = gettext("Icelandic"),
  ita = gettext("Italian"),
  jav = gettext("Javanese"),
  jpn = gettext("Japanese"),
  kal = gettext("Kalaallisut"),
  kan = gettext("Kannada"),
  kas = gettext("Kashmiri"),
  kat = gettext("Georgian"),
  kaz = gettext("Kazakh"),
  khm = gettext("Khmer"),
  kik = gettext("Kikuyu"),
  kir = gettext("Kirghiz"),
  kor = gettext("Korean"),
  kur = gettext("Kurdish"), -- macrolanguage
  lao = gettext("Lao"),
  lat = gettext("Latin"),
  lav = gettext("Latvian"), -- macrolanguage
  lit = gettext("Lithuanian"),
  ltz = gettext("Luxembourgish"),
  mah = gettext("Marshallese"),
  mal = gettext("Malayalam"),
  mar = gettext("Marathi"),
  mkd = gettext("Macedonian"),
  mlg = gettext("Malagasy"), -- macrolanguage
  mlt = gettext("Maltese"),
  mon = gettext("Mongolian"), -- macrolanguage
  mri = gettext("Maori"),
  msa = gettext("Malay"), -- macrolanguage
  mya = gettext("Burmese"),
  nav = gettext("Navajo"),
  nld = gettext("Dutch"),
  nno = gettext("Norwegian Nynorsk"),
  nob = gettext("Norwegian Bokmål"),
  nor = gettext("Norwegian"), -- macrolanguage
  oci = gettext("Occitan"), -- (post 1500)
  ori = gettext("Oriya"),
  orm = gettext("Oromo"), -- macrolanguage
  pan = gettext("Panjabi"),
  pli = gettext("Pali"),
  pol = gettext("Polish"),
  por = gettext("Portuguese"),
  pus = gettext("Pushto"), -- macrolanguage
  que = gettext("Quechua"), -- macrolanguage
  roh = gettext("Romansh"),
  ron = gettext("Romanian"),
  rus = gettext("Russian"),
  san = gettext("Sanskrit"),
  sin = gettext("Sinhala"),
  slk = gettext("Slovak"),
  slv = gettext("Slovenian"),
  snd = gettext("Sindhi"),
  spa = gettext("Spanish"),
  sqi = gettext("Albanian"), -- macrolanguage
  srp = gettext("Serbian"),
  ssw = gettext("Swati"),
  sun = gettext("Sundanese"),
  swa = gettext("Swahili"), -- macrolanguage
  swe = gettext("Swedish"),
  syr = gettext("Syriac"),
  tam = gettext("Tamil"),
  tat = gettext("Tatar"),
  tel = gettext("Telugu"),
  tgk = gettext("Tajik"),
  tgl = gettext("Tagalog"),
  tha = gettext("Thai"),
  tir = gettext("Tigrinya"),
  ton = gettext("Tonga"),
  tur = gettext("Turkish"),
  uig = gettext("Uighur"),
  ukr = gettext("Ukrainian"),
  urd = gettext("Urdu"),
  uzb = gettext("Uzbek"), -- macrolanguage
  vie = gettext("Vietnamese"),
  vol = gettext("Volapük"), -- constructed language
  wln = gettext("Walloon"),
  xho = gettext("Xhosa"),
  yid = gettext("Yiddish"), -- macrolanguage
  yor = gettext("Yoruba"),
  zha = gettext("Zhuang"), -- macrolanguage
  zho = gettext("Chinese"), -- macrolanguage
  zul = gettext("Zulu"),

  -- second chunk of names are languages present in iso-639-2
  -- this is only as complete as it needs to be to cover the languages in dictionaries.lua
  -- @translators Most of these language name have already been translated at <https://hosted.weblate.org/projects/iso-codes/iso-639-2/>. Click "Automatic suggestions" to see them below the textfield.
  ady = gettext("Adyghe"),
  alt = gettext("Southern Altai"),
  ang = gettext("Old English"), -- (ca. 450-1100)
  arc = gettext("Official Aramaic"), -- (700-300 BCE)
  ast = gettext("Asturian"),
  bik = gettext("Bikol"), -- macrolanguage
  ceb = gettext("Cebuano"),
  chr = gettext("Cherokee"),
  cop = gettext("Coptic"),
  crh = gettext("Crimean Tatar"),
  dsb = gettext("Lower Sorbian"),
  dum = gettext("Middle Dutch"), -- (ca. 1050-1350)
  enm = gettext("Middle English"), --  (1100-1500)
  frm = gettext("Middle French"), -- (ca. 1400-1600)
  fro = gettext("Old French"), -- (842-ca. 1400)
  fur = gettext("Friulian"),
  goh = gettext("Old High German"), -- (ca. 750-1050)
  got = gettext("Gothic"),
  grc = gettext("Ancient Greek"), -- (to 1453)
  gsw = gettext("Swiss German"),
  haw = gettext("Hawaiian"),
  hil = gettext("Hiligaynon"),
  kum = gettext("Kumyk"),
  lad = gettext("Ladino"),
  mnc = gettext("Manchu"),
  nds = gettext("Low German"),
  non = gettext("Old Norse"),
  ota = gettext("Ottoman Turkish"), -- (1500-1928)
  rup = gettext("Macedo-Romanian"),
  sah = gettext("Yakut"),
  scn = gettext("Sicilian"),
  sco = gettext("Scots"),
  sga = gettext("Old Irish"), -- (to 900)
  shn = gettext("Shan"),
  sux = gettext("Sumerian"),
  syc = gettext("Classical Syriac"),
  tpi = gettext("Tok Pisin"),

  -- third chunk of names are only present in iso639-3 standard
  -- this is only as complete as it needs to be to cover the languages in dictionaries.lua
  -- @translators Most of these language name have already been translated at <https://hosted.weblate.org/projects/iso-codes/iso-639-2/>. Click "Automatic suggestions" to see them below the textfield.
  aii = gettext("Assyrian Neo-Aramaic"),
  apc = gettext("Levantine Arabic"),
  ary = gettext("Moroccan Arabic"),
  bnt = gettext("Bantu"),
  cim = gettext("Cimbrian"),
  cmn = gettext("Mandarin Chinese"),
  dlm = gettext("Dalmatian"),
  hrx = gettext("Hunsrik"),
  izh = gettext("Ingrian"),
  jje = gettext("Jejueo"),
  kea = gettext("Kabuverdianu"),
  lld = gettext("Ladin"),
  lzz = gettext("Laz"),
  mch = gettext("Maquiritari"),
  nch = gettext("Central Huasteca Nahuatl"),
  nci = gettext("Classical Nahuatl"),
  nrf = gettext("Jèrriais"), -- Norman
  pdc = gettext("Pennsylvania German"),
  pdt = gettext("Plautdietsch"),
  phl = gettext("Phalura"),
  stq = gettext("Saterfriesisch"), -- Saterland Frisian
  tft = gettext("Ternate"),
  txb = gettext("Tokharian B"),
  txg = gettext("Tangut"),
  vec = gettext("Venetian"),
  vep = gettext("Veps"),
  wym = gettext("Wymysorys"), -- Vilamovian
  xcl = gettext("Classical Armenian"),
  yol = gettext("Yola"),
  yue = gettext("Yue Chinese"),

  -- these are made up language codes for very specific languages which do not map to a specific ISO3 code
  xxpf = gettext("Proto-Finnic"),
  xxpg = gettext("Proto-Germanic"),
  xxpw = gettext("Proto-West Germanic"),
  xxps = gettext("Proto-Sami"),
  xxsl = gettext("Proto-Slavic"),

  -- These are Tesseract-specific extensions.
  -- See <https://tesseract-ocr.github.io/tessdoc/Data-Files-in-different-versions.html>.
  aze_cyrl = gettext("Azerbaijani - Cyrillic"),
  chi_sim = gettext("Chinese - Simplified"),
  chi_tra = gettext("Chinese - Traditional"),
  dan_frak = gettext("Danish - Fraktur"),
  deu_frak = gettext("German - Fraktur"),
  equ = gettext("Math equation"),
  ita_old = gettext("Old Italian"),
  kat_old = gettext("Old Georgian"),
  slk_frak = gettext("Slovak - Fraktur"),
  spa_old = gettext("Old Spanish"),
  srp_latn = gettext("Serbian - Latin"),
  uzb_cyrl = gettext("Uzbek -Cyrillic"),
}

local iso_bcp47_map = {
  aar = "aa",
  afr = "af",
  ara = "ar",
  asm = "as",
  aze = "az",
  bak = "ba",
  bel = "be",
  bul = "bg",
  ben = "bn",
  bod = "bo",
  bre = "br",
  ces = "cs",
  chu = "cu",
  cym = "cy",
  dan = "da",
  deu = "de",
  div = "dv",
  ell = "el",
  eng = "en",
  epo = "eo",
  spa = "es",
  est = "et",
  eus = "eu",
  fas = "fa",
  fin = "fi",
  fao = "fo",
  fra = "fr",
  fry = "fy",
  gle = "ga",
  gla = "gd",
  glg = "gl",
  glv = "gv",
  hau = "ha",
  heb = "he",
  hin = "hi",
  hat = "ht",
  hun = "hu",
  hye = "hy",
  ina = "ia",
  ind = "id",
  ido = "io",
  isl = "is",
  ita = "it",
  jpn = "ja",
  jav = "jv",
  kat = "ka",
  kik = "ki",
  kaz = "kk",
  kal = "kl",
  khm = "km",
  kan = "kn",
  kor = "ko",
  kas = "ks",
  kur = "ku",
  cor = "kw",
  kir = "ky",
  lat = "la",
  ltz = "lb",
  lao = "lo",
  lit = "lt",
  lav = "lv",
  mlg = "mg",
  mah = "mh",
  mri = "mi",
  mkd = "mk",
  mal = "ml",
  mon = "mn",
  mar = "mr",
  msa = "ms",
  mlt = "mt",
  mya = "my",
  nob = "nb",
  nld = "nl",
  nno = "nn",
  nor = "no",
  nav = "nv",
  oci = "oc",
  orm = "om",
  pan = "pa",
  pli = "pi",
  pol = "pl",
  pus = "ps",
  por = "pt",
  que = "qu",
  roh = "rm",
  ron = "ro",
  rus = "ru",
  san = "sa",
  hbs = "sh",
  slk = "sk",
  slv = "sl",
  sqi = "sq",
  srp = "sr",
  ssw = "ss",
  sun = "su",
  swe = "sv",
  swa = "sw",
  tam = "ta",
  tel = "te",
  tgk = "tg",
  tha = "th",
  tgl = "tl",
  tur = "tr",
  tat = "tt",
  uig = "ug",
  ukr = "uk",
  urd = "ur",
  uzb = "uz",
  vie = "vi",
  vol = "vo",
  wln = "wa",
  xho = "xh",
  yid = "yi",
  yor = "yo",
  zha = "za",
  zho = "zh",
  zul = "zu",
}

local IsoLanguage = {}

function IsoLanguage:getLocalizedLanguage(iso3_language)
  local language = locale_lang_map[iso3_language]
  return language or iso3_language
end

function IsoLanguage:getBCPLanguageTag(iso3_language)
  -- BCP47 language tag is either the ISO2 code, or ISO3 if no ISO2 exists for it
  return iso_bcp47_map[iso3_language] or iso3_language
end

return IsoLanguage
